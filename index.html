<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tech Spot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Tech Spot">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Tech Spot">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tech Spot">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="Tech Spot" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Tech Spot</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Create-a-Web-API-application-in-NETCore" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/02/Create-a-Web-API-application-in-NETCore/" class="article-date">
  <time datetime="2016-10-01T20:55:14.000Z" itemprop="datePublished">2016-10-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/02/Create-a-Web-API-application-in-NETCore/">Create a Web API application in .NETCore</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Let’s try to create a .NETCore application from <em> Visual Studio 2015 </em></p>
<p><img src="/images/create-dotnet-core-web-application.PNG" alt="Create .NETCore web application from Visual Studio"></p>
<p>Create a new project from Visual Studio 2015, In <em> .NETCore </em> tab, select <em> ASP.NET Core Web Application (.NET Core) </em>. Give it a name and click on OK.  </p>
<p><img src="/images/select-web-api-template.PNG" alt="Select Web API from ASP.NET Core templates"></p>
<p>Select <em> Web API </em> from ASP.NET Core templates and click on OK.</p>
<p><img src="/images/build-the-project.PNG" alt="build the project and see changes"></p>
<p>Check folder structure of the application, It includes a <em> Program.cs </em> and <em> Startup </em> file. It includes a <em> project.json </em> file to define all required packages for your application. <em> appsettings.json </em> file maintains application settings same as <em> web.config </em> file in a ASP.NET Web application. <em> Controllers </em> folder has all Web API Controllers.</p>
<h1 id="Open-service-application-from-Visual-Studio-Code"><a href="#Open-service-application-from-Visual-Studio-Code" class="headerlink" title="Open service application from Visual Studio Code."></a>Open service application from Visual Studio Code.</h1><p><img src="/images/open-application-in-visual-studio-code.PNG" alt="Open your application in Visual Studio Code"></p>
<p>cd into the application directory and open <em> Visual Studio Code </em> using <em> code . </em> command. You can see folder structure of your application as above. Add assets to build and debug your application as the info dialog box suggests.</p>
<p><img src="/images/vscode-folder-is-added.PNG" alt="vscode folder is added"></p>
<p>vscode folder is added into the solution with launch.json and tasks.json file.</p>
<h1 id="Dependencies-in-project-json-file"><a href="#Dependencies-in-project-json-file" class="headerlink" title="Dependencies in project.json file"></a>Dependencies in project.json file</h1><p>Let’s see what are the dependencies required for a mvc application.</p>
<p><img src="/images/aspnetcore-mvc-package.PNG" alt="basic packages required for a mvc application"></p>
<p>Since We create a Web API application, in <em> project.json </em> file, It shows <strong> Microsoft.AspNetCore.Mvc </strong> package dependency.</p>
<h1 id="Run-ValuesController-and-check-service-calls"><a href="#Run-ValuesController-and-check-service-calls" class="headerlink" title="Run ValuesController and check service calls."></a>Run ValuesController and check service calls.</h1><p>Let’s run Web API application and check available services.</p>
<p><img src="/images/get-method-in-values-controller.PNG" alt="Read service in ValuesController"></p>
<p>Build (Ctrl + Shift + b) and run (Ctrl + F5) your application and ping to the Read service as above. Its shows return values in the browser.</p>
<h1 id="Let’s-build-the-movie-service"><a href="#Let’s-build-the-movie-service" class="headerlink" title="Let’s build the movie service"></a>Let’s build the movie service</h1><h2 id="Create-Movie-model"><a href="#Create-Movie-model" class="headerlink" title="Create Movie model."></a>Create Movie model.</h2><p><img src="/images/add-movie-model.PNG" alt="Add Movie model"></p>
<p>Create a <em> Model </em> folder to define entities in your application. Then create <em> Movie </em> class and add properties into it. We follow <em> Code First approach </em> in this example. So when we create the database <em> Movie </em> table will be created.</p>
<p>**<br>namespace movieStore.Models<br>{<br>    public class Movie<br>    {</p>
<pre><code>    public int ID { get; set; }
    public string Title { get; set; }
    public string Genre { get; set; }
    public decimal Price { get; set; }

}
</code></pre><p>}<br>**</p>
<h2 id="Create-Context-class-to-build-the-database"><a href="#Create-Context-class-to-build-the-database" class="headerlink" title="Create Context class to build the database."></a>Create Context class to build the database.</h2><p><img src="/images/create-context-class.PNG" alt="Create db context class"></p>
<p> From <em> context </em> class, our database will be generated. <em>Context </em> class should be inherited from <em> DbContext </em> class. In order to do that, we have to add references from <em> Entityframework core.</em></p>
<h2 id="Install-Entityframework-Core-EF-Core"><a href="#Install-Entityframework-Core-EF-Core" class="headerlink" title="Install Entityframework Core (EF Core)"></a>Install Entityframework Core (EF Core)</h2><p><img src="/images/add-entityframeworkcore-into-project-json.PNG" alt="Add entityframeworkcore references into project.json file"></p>
<p>Add <em> entityframeworkcore </em> reference as a dependency into project.json file,  <em> “Microsoft.EntityFrameworkCore”: “1.0.0” </em> and resolve reference error in <em> MovieDbContext </em> class by adding <em> using Microsoft.EntityFrameworkCore </em> statement. </p>
<h2 id="Define-the-connectionstring"><a href="#Define-the-connectionstring" class="headerlink" title="Define the connectionstring"></a>Define the connectionstring</h2><p><img src="/images/define-connectionstring-in-appsetings-json.PNG" alt="Define the connectionstring in appsetings.json file"></p>
<p>Define the connectionstring in appsettings.json file to connect to the Sql server.</p>
<h2 id="Add-entities-in-moviecontext-class"><a href="#Add-entities-in-moviecontext-class" class="headerlink" title="Add entities in moviecontext class"></a>Add entities in moviecontext class</h2><p><img src="/images/run-ef-migrations.PNG" alt="run EFCore migrations"></p>
<p>Try to run migrations for <em> MovieDbContext </em> class, It gives an error. <em> No executable found matching command “dotnet-ef” </em>, We have to install entityframeworkcore tools to run migrations from .NET cli. Let’s try to do that.</p>
<h2 id="Add-EFCore-tools"><a href="#Add-EFCore-tools" class="headerlink" title="Add EFCore tools"></a>Add EFCore tools</h2><p><img src="/images/add-entityframeworkcore-tools.PNG" alt="Add EFCore tools and run migrations"></p>
<p>Add <em> “Microsoft.EntityframeworkCore.Tools” : “1.0.0-preview2-final” </em> in tools section of <em> project.json. </em> Try to run migration and it gives an error again!!, <em> Could not invoke this command with the startup project ‘demo’. Check that ‘Microsoft.EntityFrameworkCore.Design’ has been added to “dependencies” in the startup project and that the version of ‘Microsoft.EntityFrameworkCore.Tools’ in “tools” and ‘Microsoft.EntityFrameworkCore.Design’ are the same. See <a href="http://go.microsoft.com/fwlink/?LinkId=798221" target="_blank" rel="external">http://go.microsoft.com/fwlink/?LinkId=798221</a> for more details, </em> What’s we are missing,</p>
<p>We haven’t added <em> ‘Microsoft.EntityFrameworkCore.Design’ </em> as a reference, We have to add EFCore Design references to run migrations scripts. Let’s add it and check. And also it mentions <em> ‘Microsoft.EntityFrameworkCore.Design’ </em> and <em> ‘Microsoft.EntityFrameworkCore.Tools’ </em> version should be same.</p>
<h2 id="Add-EFCore-Design-reference"><a href="#Add-EFCore-Design-reference" class="headerlink" title="Add EFCore Design reference."></a>Add EFCore Design reference.</h2><p><img src="/images/add-entityframeworkcore-design-reference.PNG" alt="Add entityframeworkcore design reference"></p>
<p>Add <em> “Microsoft.EntityFrameworkCore.Design”: “1.0.0-preview2-final” </em> reference into project.json file. Note that, <em> ‘Microsoft.EntityFrameworkCore.Design’ </em> and <em> ‘Microsoft.EntityFrameworkCore.Tools’ </em> version are same.</p>
<p>Then try to run migrations command again and it gives another error, <em> No parameterless constructor was found on ‘MovieDbContext’. Either add a parameterless constructor to ‘MovieDbContext’ or add an implementation of ‘IDbContextFactory<moviedbcontext>‘ in the same assembly as ‘MovieDbContext’. </moviedbcontext></em></p>
<h2 id="Check-MovieDbContext-class"><a href="#Check-MovieDbContext-class" class="headerlink" title="Check MovieDbContext class"></a>Check MovieDbContext class</h2><p><img src="/images/moviecontext-class.PNG" alt="MovieDbContext class with constructor"></p>
<p> In MovieDbContext class, define constructor with context options and call base class method.</p>
<h2 id="Define-connectionstring-in-appsettings-file"><a href="#Define-connectionstring-in-appsettings-file" class="headerlink" title="Define connectionstring in appsettings file"></a>Define connectionstring in appsettings file</h2><p><img src="/images/connectionstring_in_appsettings_json.PNG" alt="Add connectionstring in appsettings.json file"></p>
<p>Add connectionstring in appsetings file like this, <em> “DefaultConnection” : “Data Source=localhost;Initial Catalog=movieDB;Integrated Security=true” </em>  </p>
<h2 id="Startup-class-implementation"><a href="#Startup-class-implementation" class="headerlink" title="Startup class implementation"></a>Startup class implementation</h2><p><img src="/images/startup-class-configure-services-method.PNG" alt="Configure services in startup class"></p>
<p>In <em> Configure services </em> method, add the database context and define the connectionstring of your database, in configure service method, it’s missing some references, since we havent add any EntityframeworkCore sqlserver references.</p>
<h2 id="Add-EFCore-Sqlserver-references"><a href="#Add-EFCore-Sqlserver-references" class="headerlink" title="Add EFCore Sqlserver references"></a>Add EFCore Sqlserver references</h2><p><img src="/images/EFCore_sqlserver-references.PNG" alt="Add EntityFrameworkCore sqlserver reference"></p>
<p>Add <em> “Microsoft.EntityFrameworkCore.SqlServer”: “1.0.0” </em> reference in project.json file and restore them.</p>
<p><img src="/images/pass-sqlserver-connectionstring.PNG" alt="Add EFCore sqlserver references"></p>
<p>Now sqlserver reference is added. <em> Configure service </em> method looks fine.</p>
<h2 id="Run-Migrations"><a href="#Run-Migrations" class="headerlink" title="Run Migrations"></a>Run Migrations</h2><p><img src="/images/migrations-has-been-added.PNG" alt="run migrations and check what happens"></p>
<p>Run Sqlserver migrations, It doesn’t give any errors in .NET cli, Migrations folder is created with migrations scripts. In <em> Initial Migration </em> class, it defines <em> Up </em> and <em> Down </em> methods to create and drop movie table respectively.</p>
<h2 id="Update-the-database"><a href="#Update-the-database" class="headerlink" title="Update the database"></a>Update the database</h2><p><img src="/images/movie-db-is-created.PNG" alt="movie database is created"></p>
<p>run <em> dotnet ef database update </em> command to update the database. In sqlserver <em> movieDB </em> got created.</p>
<h2 id="Add-Movie-controller"><a href="#Add-Movie-controller" class="headerlink" title="Add Movie controller"></a>Add Movie controller</h2><p>In Visual studio code, We can’t use scaffolding. So i created a <em> Movie Controller </em> with all the CRUD operations of <em> Movie </em> entity in visual studio. Let’s add it.</p>
<p><img src="/images/movie-controller.PNG" alt="Movie controller with all the CRUD operations"></p>
<p>In Movie Controller, it shows it works with <em> application/json </em> type data, and the route is <em> api/Movies. </em> Note that in .NET Core Api controllers inherit from <em> Controller </em> class, not from <em> API Controller </em> class.</p>
<p><img src="/images/api_movies_method.PNG" alt="ping to api/movies method"></p>
<p>Go to <em> api/movies </em> method and check <em> Network </em> tab in developer tools. method returns <em> 200 - OK. </em> as a response. We don’t have data in movie database, Let’s try to add some data.</p>
<h2 id="Add-data-using-Postman"><a href="#Add-data-using-Postman" class="headerlink" title="Add data using Postman"></a>Add data using Postman</h2><p><img src="/images/post-a-movie.PNG" alt="ping to api/post a movie"></p>
<p>Postman is a tool to test your service apis. Although we can test <em> GET </em> requests through browser, to test <em> POST </em> requests, we need to use <em> Postman. </em> Add a movie using Postman and retrive it using web browser.</p>
<p>We have created a service API using .NETCore and Sql Server. Let’s try to run this same application on Ubuntu with <em> MySQL. </em></p>
<h2 id="Clone-your-application-in-Ubuntu"><a href="#Clone-your-application-in-Ubuntu" class="headerlink" title="Clone your application in Ubuntu"></a>Clone your application in Ubuntu</h2><p><img src="/images/git-clone.PNG" alt="Clone your application in Ubuntu"></p>
<p> Type <em> git clone …</em> with repository url, Your project will be downloaded. Then cd into application directory and open it in visual studio code.</p>
<h2 id="Restore-packages-and-build-your-application"><a href="#Restore-packages-and-build-your-application" class="headerlink" title="Restore packages and build your application"></a>Restore packages and build your application</h2><p><img src="/images/dotnet-restore-in-ubuntu.PNG" alt="Restore packages and build application"></p>
<p>Restore packages defined in project.json file and Build your application. It all works fine. </p>
<h2 id="Let’s-try-to-run-our-application"><a href="#Let’s-try-to-run-our-application" class="headerlink" title="Let’s try to run our application"></a>Let’s try to run our application</h2><p><img src="/images/dotnet-run-in-ubuntu.PNG" alt="Run your application"></p>
<p>Let’s try to run our application without any modifications, It seems working fine. Let’s navigate to <em> api/values </em>, It calls READ service of <em> Values </em> service. It returns 200 - OK as response. </p>
<p><img src="/images/read-service-in-movie-service.PNG" alt="Read service in movie controller"></p>
<p>Ping to <em> api/movies, </em> it returns an empty array, since we don’t have a database. Check the terminal and try to find any erros, It shows a <em> fail </em> error in red. It says <em> Microsoft.EntityFrameworkCore.Query.Internal.SqlServerQueryCompilationContextFactory[1]<br> An exception occurred in the database while iterating the results of a query. System.NotSupportedException: The keyword ‘integrated security’ is not supported on this platform. at System.Data.SqlClient.SqlConnectionString..ctor(String connectionString) … </em><br> It says an error as <em> The keyword ‘integrated security’ is not supported on this platform. </em> If you remember, where we have used <em> integrated security </em>, that’s in sql server connectionString. We can’t operate with Sql server on Ubuntu. We have to install My SQL server to store data in your application. Let’s do that.</p>
<h2 id="Add-MySQL-connectionString"><a href="#Add-MySQL-connectionString" class="headerlink" title="Add MySQL connectionString"></a>Add MySQL connectionString</h2><p><img src="/images/define-mysql-connectionstring.PNG" alt="Define mysql connectionString"></p>
<p>Add mysql connectionString in appsetings.json file, <em> movieDB </em> will get created in mysql server.</p>
<h2 id="Add-MySQL-service-in-your-application"><a href="#Add-MySQL-service-in-your-application" class="headerlink" title="Add MySQL service in your application"></a>Add MySQL service in your application</h2><p><img src="/images/configure-my-sql-service.PNG" alt="Add mysql service into your application"></p>
<p>If you remember, we added Sql service into the application when we run in winodows. In Ubuntu also same thing we have to do. Add MySQL service into your application with dbContext class. But it seems we are missing something in here.<br> Note that, <em> Microsoft.EntityframeworkCore </em> has been highlighted. Your application doesn’t use that reference anymore. It’s a reference from Sql server. We have to add a reference from MySQL to proceed with this. Let’s try to add it.</p>
<h2 id="Add-MySQL-EFCore-reference-in-project-json-file"><a href="#Add-MySQL-EFCore-reference-in-project-json-file" class="headerlink" title="Add MySQL EFCore reference in project.json file"></a>Add MySQL EFCore reference in project.json file</h2><p><img src="/images/add-mysql-EFCore-reference.PNG" alt="Add mysql EFCore reference"></p>
<p>Add <em> “MySql.Data.EntityFrameworkCore” : “7.0.4-ir-191” </em> reference in project.json file and restore them.</p>
<p><img src="/images/add-mysql-reference-in-startup-class.PNG" alt="Add mysql reference in Startup class"></p>
<p>Add <em> using MySQL.Data.EntityFrameworkCore.Extensions; </em> statement in startup class, It seems works fine now.</p>
<p>In windows with Sql server, We run migration scripts and ensure database is created. But with Ubuntu, we can’t do that. Somehow we have to ensure our database is created. Let’s give it a try.</p>
<h2 id="Ensure-MySQL-database-got-created"><a href="#Ensure-MySQL-database-got-created" class="headerlink" title="Ensure MySQL database got created"></a>Ensure MySQL database got created</h2><p><img src="/images/ensure-mysql-database-got-created.PNG" alt="Ensure mysql database is created"></p>
<p>Add this lines of code to ensure MySQL database got created.</p>
<p>var optionsBuilder = new DbContextOptionsBuilder<moviedbcontext>();<br>optionsBuilder.UseMySQL(Configuration.GetConnectionString(“DefaultConnection”));</moviedbcontext></p>
<p>var context = new MovieDbContext(optionsBuilder.Options);<br>context.Database.EnsureCreated();</p>
<h2 id="Run-your-application"><a href="#Run-your-application" class="headerlink" title="Run your application"></a>Run your application</h2><p><img src="/images/try-to-run-your-application.PNG" alt="run your application"></p>
<p>Then build and run the application, navigate to movies read service and verify it works fine. read service returns empty array. Let’s check database is created in MySQL server.</p>
<h2 id="View-MySQL-databases"><a href="#View-MySQL-databases" class="headerlink" title="View MySQL databases"></a>View MySQL databases</h2><p><img src="/images/verify-database-is-created.PNG" alt="Check whether your database is created"></p>
<p>run <em> mysql -u root -p </em> command to access mysql shell, then type <em> show databases; </em> to view all the available databases. <em> movieDB. </em> is successfuly created.</p>
<h2 id="Let’s-add-some-data-into-Movie-database-in-MySQL"><a href="#Let’s-add-some-data-into-Movie-database-in-MySQL" class="headerlink" title="Let’s add some data into Movie database in MySQL"></a>Let’s add some data into Movie database in MySQL</h2><p><img src="/images/post-a-movie-mysql.PNG" alt="Add a movie into database"></p>
<p>Call POST service in movie controller and add a movie into the mysql database. Refresh read movie service, it shows available movies in your mysql database.<br>Connect to the mysql shell and try to view data in <em> Movies </em> table.</p>
<p>In this blog post, I described how to run a web api application in windows with Sqlserver. And then we tried to configure same service application on Ubuntu with MySql server. With less amount of coding we could achieve that, really cool style in .NETCore</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/10/02/Create-a-Web-API-application-in-NETCore/" data-id="cits730jg00044sgcw2xhlq35" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Create-a-web-application-with-Yeoman" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/16/Create-a-web-application-with-Yeoman/" class="article-date">
  <time datetime="2016-09-15T18:30:59.000Z" itemprop="datePublished">2016-09-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/16/Create-a-web-application-with-Yeoman/">Create a web application with Yeoman!</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Run-Yo-command"><a href="#Run-Yo-command" class="headerlink" title="Run Yo command"></a>Run Yo command</h1><p>First of all create a new directory and cd into it. Then run <em> yo </em> command.</p>
<p><img src="/images/run-yo-command.PNG" alt="Yo command"></p>
<p>Run <em> Yo </em> command, and check what happens.<br>It points to <em> Install a generator </em> by default. It doesn’t point to <em> Run a generator, </em> until we install a generator.</p>
<p><img src="/images/install-aspnet-generator.PNG" alt="install a generator"></p>
<p>search for aspnet generator in npm package management store.</p>
<p><img src="/images/permission-issue-in-installing-generator.PNG" alt="install a generator"></p>
<p>We get a permission issue when installing aspnet generator, Let’s try what yo says,  will run <em> npm install </em> command and see what happens.</p>
<p><img src="/images/npm-install-generattor.PNG" alt="install a generator using npm install command"></p>
<p>We tried to install generator using <em> npm install </em> command, But it shows the same error!!!!<br>Since this is a permission issue, will run the command with <em> sudo </em> and check what happens.</p>
<p><img src="/images/npm-install-generattor-as-administrator.PNG" alt="install a generator as administrator"></p>
<p>When installing generator as an administrator, it installs without getting any errors.<br>Let’s run <em> Yo </em> command and select a template.</p>
<p><img src="/images/create-empty-web-application.PNG" alt="create empty web application using Yo"></p>
<p>Select <em> aspnet </em> as generator, and then select what type of application you want to create.<br>Select <em> Empty Web Application </em> and give a name to it.</p>
<p><img src="/images/after-restoring-packages.PNG" alt="How it looks like after restoring packages"></p>
<p>Go inside the project folder and open it in visual studio code.<br>In visual studio code add <em> .vscode </em> folder and restore relevant packages. It shows solution like this.</p>
<p><img src="/images/program-cs-file.PNG" alt="program.cs file "></p>
<p>In program.cs file, It shows <em> WebHostBuilder </em> class, with cross platform <em> Kestrel server</em> and <em> IIS integration </em> both.<br>It has defined a seperate <em> Startup </em> class, to configure the http request pipeline. </p>
<p><img src="/images/dotnet-build-and-run.PNG" alt="dotnet build and run application "><br> Build and run .NETCore application and check terminal window,<br> You can see <em> logging </em> is enabled for browser navigations.</p>
<p> We can see complete project is created using Yeoman template generator. It includes <em> program.cs, </em> <em> project.json </em> and <em> web.config </em> files.<br> It includes <em> Startup </em> class to manage the http request pipeline. And also it has a <em> wwwroot </em> folder to host our web application.<br> Since Yeoman is generating complete application, We don’t have to do anything manually. We can only focus on the application logic and start working on it.</p>
<p> You can check sample code from here, <a href="https://github.com/hansamaligamage/WebAppWithYeoman" target="_blank" rel="external">https://github.com/hansamaligamage/WebAppWithYeoman</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/16/Create-a-web-application-with-Yeoman/" data-id="cits730j000004sgc8mxk0rnc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Yeoman-go-easy-with-NETCore" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/15/Yeoman-go-easy-with-NETCore/" class="article-date">
  <time datetime="2016-09-15T14:16:58.000Z" itemprop="datePublished">2016-09-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/15/Yeoman-go-easy-with-NETCore/">Install Yeoman in Ubuntu</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="What-is-Yeoman"><a href="#What-is-Yeoman" class="headerlink" title="What is Yeoman"></a>What is Yeoman</h1><p>Yeoman is a free open source tool. It’s more like visual studio project templates. It’s going to create a complete project with given set of tools. Yeoman has set of generators, It complies with industry best practices. Developers can easily start with their applications with specific tool set, without worrying about the setup or template of the application. Yeoman templates includes building, testing and minification in your application, So developer can focus on the logic of their application.</p>
<h1 id="Install-node-js"><a href="#Install-node-js" class="headerlink" title="Install node js"></a>Install node js</h1><p><img src="/images/install-node.PNG" alt="install node"></p>
<p>Install node js, before installing Yeoman. Yeoman is going to run on a node server, After installing node js check the version of it.</p>
<h1 id="Install-npm"><a href="#Install-npm" class="headerlink" title="Install npm"></a>Install npm</h1><p><img src="/images/install-npm.PNG" alt="install npm"></p>
<p>When we install nodejs, npm is also comes along with it. If you start installing npm before installing node js, follow like this.<br>npm is a package manager for Yeoman, It’s going to download any dependencies in your application, You don’t want to manually download and install it.</p>
<h1 id="Let’s-try-to-install-Yeoman"><a href="#Let’s-try-to-install-Yeoman" class="headerlink" title="Let’s try to install Yeoman!!"></a>Let’s try to install Yeoman!!</h1><p><img src="/images/install-yo.PNG" alt="install Yeoman"></p>
<p>Run Yo installer command,</p>
<p><img src="/images/yo-error.PNG" alt="Yeoman permission issue when installing"></p>
<p>But it doesn’t seem work, We get an ugly permission issue, Let’s try to fix this.<br>It says <em> permission denied </em> for some paths. It suggests to run installer command as <em> root/Administrator, </em> Let’s try out that. </p>
<p><img src="/images/install-yo-as-administrator.PNG" alt="Install Yeoman as administrator"></p>
<p>It looks perfectly fine, when we use <em> sudo </em> command with yo installer command.</p>
<p><img src="/images/check-yo-is-installed-properly.PNG" alt="check whether Yeoman is installed properly"></p>
<p>We can check whether Yeoman is installed properly using <em> Yo </em> command.<br>We have successfully installed Yeoman. Now we don’t want to manualy create .NETCore applications. We can use generated templates using Yo. Let’s start using Yeoman templates.  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/15/Yeoman-go-easy-with-NETCore/" data-id="cits730k7000e4sgcgtkj8ep1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Web-Application-in-NETCore-Ubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/15/Web-Application-in-NETCore-Ubuntu/" class="article-date">
  <time datetime="2016-09-15T03:39:42.000Z" itemprop="datePublished">2016-09-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/15/Web-Application-in-NETCore-Ubuntu/">Listen to me in http://localhost:5000/ with .NETCore on Ubuntu</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In my previous post, We saw how to write a console application in .NETCore. Let’s see how to write a web application in this post.</p>
<h1 id="Create-a-new-project"><a href="#Create-a-new-project" class="headerlink" title="Create a new project"></a>Create a new project</h1><p><img src="/images/web-create-a-new-project.PNG" alt="Create a new project"></p>
<p>Create a new project and open it in Visual Studio Code.</p>
<p><img src="/images/webhost-builder.PNG" alt="Initiate a WebHost Builder object"></p>
<p>Create a <em> WebHostBuilder </em> instance, since we need a server to run our web application, It’s little bit different to a Console application.<br>We get an error here, Some packages seem to be missing, ok!!! First of all let’s add a server to run our application.</p>
<h1 id="Add-Kestrel-to-our-package-list"><a href="#Add-Kestrel-to-our-package-list" class="headerlink" title="Add Kestrel to our package list"></a>Add Kestrel to our package list</h1><p> <img src="/images/add-kestrel-server.PNG" alt="Add Kestrel to our package list "></p>
<p>Add <em> Kestrel </em> server into <em> project.json </em> file and restore the package.</p>
<p> <img src="/images/add-relevant-using-statement-to-kestrel-server.PNG" alt="Add relevant using statement for kestrel server"></p>
<p>In program.cs file, Add relevant using statement. </p>
<p><img src="/images/run-web-host-builder.PNG" alt="run WebHostBuilder"></p>
<p>When initiating a <em> WebHostBuilder, </em> It turns your console application into a web application.</p>
<p>Now, Ask the host to build using <em> Build </em> method, and run the webhost. When hit on <em> Run </em> method, It’s going to give a signal to the host to listen on a port and start accepting http traffic.</p>
<h1 id="Let’s-run-and-see-the-changes"><a href="#Let’s-run-and-see-the-changes" class="headerlink" title="Let’s run and see the changes"></a>Let’s run and see the changes</h1><p> <img src="/images/run-web-application.PNG" alt="run web application and see what has happened"></p>
<p> When we run our application, It gives an error!!!!<br> It says we haven’t provided a service to startup the application. It means we haven’t mentioned we want to use Kestrel or not when starting our application. Let’s check how we can start our application with kestrel server,</p>
<p><img src="/images/web-output.PNG" alt="run web application and see what has happened"></p>
<p>In here we asked <em> Kestrel </em> to accept a http request and turn it into a http context. In configure, we accept an <em> Application Builder </em> instance, it’s going to perform some actions in our application.<br>When hit on <em> app.Run(), </em> It’s going to add a terminal to the http request pipeline. Inside <em> app.Run() </em> method, we pass an <em> http context </em> object kestrel has created. </p>
<p>In the terminal window, It shows <em> Hello World - web </em>.<br>Then it shows <em> Hosting Environment </em> as <em> production.</em>, default hosting environment for a .NETCore application.<br>Then it shows <em> Content root path </em> of our application,<br>Our web project listen into <em> <a href="http://localhost:5000/" target="_blank" rel="external">http://localhost:5000/</a> </em> which is default url and the default port of our application.</p>
<p>You can download code sample from here, <a href="https://github.com/hansamaligamage/WebAppin.NETCore" target="_blank" rel="external">https://github.com/hansamaligamage/WebAppin.NETCore</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/15/Web-Application-in-NETCore-Ubuntu/" data-id="cits730k5000d4sgcne822c9j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Hello-World-in-NETCore-Ubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/15/Hello-World-in-NETCore-Ubuntu/" class="article-date">
  <time datetime="2016-09-15T03:31:57.000Z" itemprop="datePublished">2016-09-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/15/Hello-World-in-NETCore-Ubuntu/">Hello World in .NETCore Ubuntu</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Let’s start our first application on .NETCore - Ubuntu</p>
<h1 id="Create-a-new-project"><a href="#Create-a-new-project" class="headerlink" title="Create a new project"></a>Create a new project</h1><p><img src="/images/create-a-new-project.PNG" alt="Create a new project"></p>
<p>Create a folder in your desktop, <em> myprojects </em>, go inside of it and create a new project using <em> dotnet new </em> command.<br>You can see <em> Program.cs </em> and <em> project.json </em> file is created. To build our first project in .NETCore, Let’s install <em> Visual Studio Code </em> editor.</p>
<h1 id="Install-Visual-Studio-Code"><a href="#Install-Visual-Studio-Code" class="headerlink" title="Install Visual Studio Code"></a>Install Visual Studio Code</h1><p><img src="/images/download-visual-studio-code.PNG" alt="Install Visual Studio Code"></p>
<p>Download correct version of Visual Studio Code relevant to Ubuntu and install it.</p>
<p><img src="/images/open-project-in-visual-studio-code.PNG" alt="Open a project in Visual Studio Code"></p>
<p>Go to your project location and open your project in visual studio code. It shows a message to install a extension. Extensions allow you to add languages, debuggers and tools to your development environment, Click on <em> Show Recommendations </em> to view recommended extensions.</p>
<p><img src="/images/visual-studio-code-extensions.PNG" alt="Visual Studio Code Extensions"></p>
<p>Select <em> C# powered by Omnisharp </em>, since We are using C# code in .NETCore. It provides intellicense for .NET. Omnisharp provides a set of tooling and libraries to IDEs like Visual Studio Code, Sublime, Atom, Emacs, Vim and Brackets. After installing C# extension, enable it.</p>
<p><img src="/images/program-cs.PNG" alt="program.cs file"></p>
<p>program.cs file shows entry point to the application as usual.</p>
<h1 id="project-json-File"><a href="#project-json-File" class="headerlink" title="project.json File"></a>project.json File</h1><p><img src="/images/project-json.PNG" alt="project.json file"></p>
<p>project.json file shows nuget dependencies required to build the application.</p>
<p>Let’s see what is the meaning of these attributes in <em> project.json </em> file</p>
<p><strong> version”: “1.0.0-* </strong> specifies version of the .NETCore, It says version should starts with 1.0.0<br><strong> buildOptions </strong> defines how the project should be built.<br><strong> dependencies </strong> lists all the dependencies in your application.<br><strong> frameworks </strong> defines target framework that will be used with specifies dependencies.<br><strong> imports </strong> defines where our application runs, When we add <strong> dnxcore50 </strong>, it says we are running in Core CLR on the dnx.</p>
<p><img src="/images/build-debug-assets.PNG" alt="build and debug assets"></p>
<p>You can see a message to install build and debug assets, install them. And another message to restore the packages in project.json, restore them as well.</p>
<p><img src="/images/after-restoring-packages-and-build-debug-folder.PNG" alt="After adding assets folder and restoring packages"></p>
<p>After adding assets folder, you can see .vscode folder with <em> launch.json </em> and <em> tasks.json </em> files. All the build errors are gone. Check the output window, It shows packages restoring is completed.</p>
<h1 id="project-lock-json-File"><a href="#project-lock-json-File" class="headerlink" title="project.lock.json File"></a>project.lock.json File</h1><p><img src="/images/project-lock-json.PNG" alt="project-lock.json file"></p>
<p>After packages restoring is completed, <em> project-lock.json </em> file has been added into the solution.<br>It’s going to capture entire dependency graph that your application depends on. In <em> project.json </em> file, you define the top level dependencies, more detailed level description is available in <em> project-lock.json </em> file.</p>
<h1 id="launch-json-File"><a href="#launch-json-File" class="headerlink" title="launch.json File"></a>launch.json File</h1><p> <img src="/images/launch-json.PNG" alt="launch.json file"></p>
<p>This file is going to confgure debugging and running in the application. In this example, It’s going to launch .NETCore console or even we can attatch to .NETCore console.</p>
<h1 id="tasks-json-File"><a href="#tasks-json-File" class="headerlink" title="tasks.json File"></a>tasks.json File</h1><p><img src="/images/tasks-json.PNG" alt="tasks.json file"></p>
<p>This file is used to automate tasks like building, packaging, testing and deploying softwares. In this example, It has define a <em> build </em> task, and specified to run as a build command.</p>
<h1 id="Hello-World-on-the-terminal"><a href="#Hello-World-on-the-terminal" class="headerlink" title="Hello World on the terminal"></a>Hello World on the terminal</h1><p> <img src="/images/output-of-the-project.PNG" alt="Hello World on the terminal"></p>
<p>That’s all we want to know about a .NETCore application, Let’s see the output of our first application, When we run <em> dotnet run </em> command, It shows the output of the application.</p>
<p>I created a github repository, You can check it from here, <a href="https://github.com/hansamaligamage/HelloWorld" target="_blank" rel="external">https://github.com/hansamaligamage/HelloWorld</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/15/Hello-World-in-NETCore-Ubuntu/" data-id="cits730jc00024sgc4zb6cbx7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Install-NETCore-on-Ubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/11/Install-NETCore-on-Ubuntu/" class="article-date">
  <time datetime="2016-09-11T17:59:23.000Z" itemprop="datePublished">2016-09-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/11/Install-NETCore-on-Ubuntu/">Install .NETCore on Ubuntu</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In .NET framework history, .NET have its full framework from .NET 1.0 to .NET 4.6.2, specially created for windows platform. Latest version of .NET framework is .NET 4.6.2 up to now, In the end of june Microsoft released a new .NET framework called .NET Core for Windows, Linux and Mac. A great feature of .NET core is, a solution build on windows can be run and modify in a linux based environment. We can build an application on winows, and can host it in a Linux server, how cool is that.</p>
<h1 id="Add-dotnet-apt-get-feed"><a href="#Add-dotnet-apt-get-feed" class="headerlink" title="Add dotnet apt-get feed"></a>Add dotnet apt-get feed</h1><p><img src="/images/add-dotnet-apt-get-feed.PNG" alt="apt-get Feed"></p>
<p>First of all, setup the apt-get feed and update it.</p>
<p>apt-get is a free package manager program. It works with Ubuntu’s APT (Advanced Packaging Tool). Using that command line program, We can Install new packages, remove or upgrade packages.</p>
<p>for Ubuntu 16.04, run these commands,<br>    <strong> sudo sh -c ‘echo “deb [arch=amd64] <a href="https://apt-mo.trafficmanager.net/repos/dotnet-release/" target="_blank" rel="external">https://apt-mo.trafficmanager.net/repos/dotnet-release/</a> xenial main” &gt; /etc/apt/sources.list.d/dotnetdev.list’ </strong><br>    <strong> sudo apt-key adv –keyserver apt-mo.trafficmanager.net –recv-keys 417A0893 </strong><br>Then update apt-get feed Using following command, <strong> sudo apt-get update </strong></p>
<h1 id="Install-NETCore-top-of-apt-get"><a href="#Install-NETCore-top-of-apt-get" class="headerlink" title="Install .NETCore top of apt-get"></a>Install .NETCore top of apt-get</h1><p><img src="/images/install-dotnet-core.PNG" alt="Install .NETCore"></p>
<p>Install .NETCore using following command, <strong> sudo apt-get install dotnet-dev-1.0.0-preview2-003121 </strong></p>
<p><img src="/images/check-dotnet-installation.PNG" alt="run dotnet command"></p>
<p>Check whether .NETCore is properly installed using <strong> dotnet </strong> command. It shows .NETCore version as 1.0.1</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/11/Install-NETCore-on-Ubuntu/" data-id="cits730jl00064sgcwnkeg1mj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Install-Ubuntu-in-VM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/27/Install-Ubuntu-in-VM/" class="article-date">
  <time datetime="2016-08-27T05:20:23.000Z" itemprop="datePublished">2016-08-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/27/Install-Ubuntu-in-VM/">Install Ubuntu in a Virtual Machine</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Let’s try to create a virtual machine with Ubuntu. Later in these post series, will try to install .NET Core into Ubuntu.</p>
<h1 id="Ubuntu-run-in-a-VM"><a href="#Ubuntu-run-in-a-VM" class="headerlink" title="Ubuntu run in a VM"></a>Ubuntu run in a VM</h1><p>Let’s see how we can run Ubuntu inside a virtual machine.</p>
<p> <img src="/images/create-a-vm.PNG" alt="Create a virtual machine with Ubuntu"></p>
<p>Select <em> Create a new Virtual Machine </em>, then <em> New Virtual Machine Wizard </em> appears. in this example I selected a disc image of ubuntu (.iso file) or else you can install a operating system using a dvd. Click on <em> Next </em></p>
<p><img src="/images/personel-info-in-linux.PNG" alt="Personnel information"></p>
<p>Enter your personnel information, a username and a password for ubuntu.</p>
<p><img src="/images/name-virtual-machine.PNG" alt="Name the virtual machine"></p>
<p>Give a name for the virtual machine and install location.</p>
<p><img src="/images/specify-disk-capacity.PNG" alt="Specify the disk capacity"></p>
<p>Specify the disk capacity and virtual hard disk information</p>
<p><img src="/images/customise-hardware.PNG" alt="Customise hardware in the virtual machine"></p>
<p>Customise the hardware if you want, You can change name of the virtual machine, location, hard disk size, memory etc.</p>
<p><img src="/images/installation-of-ubuntu.PNG" alt="Installing Ubuntu in a vm"></p>
<p>Installation of Ubuntu will take few minutes.</p>
<p><img src="/images/ubuntu-is-ready.PNG" alt="Ubuntu is ready"></p>
<p>Ubuntu in vm is ready, </p>
<h1 id="Install-VMware-tools"><a href="#Install-VMware-tools" class="headerlink" title="Install VMware tools"></a>Install VMware tools</h1><p>We are going to install VMware tools. We can’t go full screen mode, If we haven’t install VMware tools.</p>
<p><img src="/images/VMware-tools-installer.PNG" alt="VMware tools installer"></p>
<p>Download VMware tools, and Let’s try to install it.</p>
<p>I downloaded VMware tools - 10.0.6,</p>
<p><img src="/images/extract-VMware-tools-installer.PNG" alt="Extract VMware installer"></p>
<p>Right click on VMware tools zip file and select <em> Extract To </em> option.</p>
<p><img src="/images/select-extract-location-as-desktop.PNG" alt="Select extract location as Desktop"></p>
<p>Select <em> Desktop </em> as extract location, and press on <em> Extract </em></p>
<p><img src="/images/go-inside-VMware-tools.PNG" alt="cd into VMware installer"></p>
<p>Go inside VMware installer using <em> cd </em> command.</p>
<p><img src="/images/run-VMware-installer.PNG" alt="run VMware installer"></p>
<p>Run VMware installer, using above command with <em> sudo </em>, sudo command means, you run this installer as a super user. <em> superuser do </em></p>
<p>Now you can go to full screen mode.</p>
<p><img src="/images/check-ubuntu-version.PNG" alt="Check Ubuntu version from terminal"></p>
<p>Open a terminal and check Ubuntu version, We have succesfully Installed Ubuntu in a virtual machine.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/27/Install-Ubuntu-in-VM/" data-id="cits730jq00074sgcam036t2z" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-How-to-generate-a-license-key-for-your-system" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/29/How-to-generate-a-license-key-for-your-system/" class="article-date">
  <time datetime="2016-07-28T18:30:00.000Z" itemprop="datePublished">2016-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/29/How-to-generate-a-license-key-for-your-system/">How to generate a license key for your system</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>When a web application develops, we need to protect user passwords from security attacks. When your application operates on a license key, we need to validate the license.<br>In todays world providing security to your system is bit crucial. We have to face malicious scripts, security threats and unwanted attacks in out there. Let’s see how we can prevent those kind of attacks.</p>
<h1 id="Password-Hashing"><a href="#Password-Hashing" class="headerlink" title="Password Hashing"></a>Password Hashing</h1><p>In hashing, we are going to convert password string into a byte array. Hashing is a one way funtion, we can’t reverse it. We can see many hashing algorithms available.<br>Let’s say we hashed the users password and stored in our database. When user second time logs in, we have to verify entered password is correct. What we can do is, we can hash the entered text into password field and compare it with the hashed value from the database. Since Hashing is a one way function, we can’t decrypt and retrieve original text.</p>
<h1 id="Invalid-username-or-password"><a href="#Invalid-username-or-password" class="headerlink" title="Invalid username or password"></a>Invalid username or password</h1><p>When user enters wrong password, System should not let the user know it’s <em> Invalid password </em>, instead of it should tell <em> Invalid username or password </em>. Then if hacker tries to login into your system, he doesn’t know whether username or password got wrong.</p>
<h1 id="Hash-Functions"><a href="#Hash-Functions" class="headerlink" title="Hash Functions"></a>Hash Functions</h1><p>SHA1, MD5 are popular hashing algorithms. SHA1 got inspired from MD algorithms and created SHA algorithms. From these two algorithms, better to use SHA1, Because it’s high secure than MD5.  MD5 is going to convert a string into 128 bits. But SHA1 convert a string into 160 bits. In MD5 less no of operations required to crack the message, when compared to SHA1. But MD is faster than SHA1. However it’s better to use SHA1 algorithm instead of MD5, since MD5 can be broken easily.</p>
<h1 id="Hashes-can-be-cracked-easily"><a href="#Hashes-can-be-cracked-easily" class="headerlink" title="Hashes can be cracked easily"></a>Hashes can be cracked easily</h1><p>Hackers can guess passwords and simply hash them with a hashing algorithm and try it in your system. It takes few seconds to generate a hash. Within a limited amount of time, your passwords can be cracked easily. These type of guessing password and hashing is called as Dictionary attacks and Brute force attacks.<br>In dictionary attacks, it uses a file with some words. These words can be extracted from a database or else from set of paragraphs. Most hackers guess passwords from common terms like, hello, hellow, he11o3 etc. They take a string and try to replace letters in it, like hello, he33o, heiio, etc. Then these words are hashed and use against the password hash.<br>Brute Force attacks going to try out every possible of character combinations to a certain string length. It’s a very expensive computational process, But eventually it’s going to find out your password! That’s why we need lenghtier passwords, So it will take long time to crack your passwords.<br>By hashing your passwords, We can’t prevent Dictionary attacks or Brute force attacks, But we can minimize them.<br>While Dictionary attacks and Brute force attacks are time consuming, Hackers has another kid in their block, It’s Lookup Table. In Lookup table, It’s going to precompute the hashes of passwords and used to store them in a dictionary file.<br>So hundrends of guesses can be done in a second. It’s a very effective method to crack your passwords.<br>Rainbow Tables, Beware guys, it can crack any 8 characters lengthy MD5 password. Rainbow table is same as Lookup table. In here hash cracking speed is slower, compared to lookup table. But lookup table size is smaller, so more hashes can be stored in the same space. So Rainbow tables are more effective than Lookup tables.</p>
<h1 id="Salted-Password-Hashing"><a href="#Salted-Password-Hashing" class="headerlink" title="Salted Password Hashing"></a>Salted Password Hashing</h1><p>If we use a salt with password hashing, It’s impossible to crack your passwords through Rainbow tables and lookup tables. In lookup tables, hackers are going to hash same list of passwords and try out in your system. Let’s say two users are having same password in your system. When we hash these passwords, It’s same password hash. In Salting, we are adding a random number along with hashed password. So two users never get same salted password hash. And mind you don’t use same salt with different user passwords, don’t repeat the salting. If new user registers into your system or else change password, generate a new salt. Use a new salt for every user password. If hacker is smart enough, He may be able to crack a one or two user passwords, But not more than that. Eventhough many users have same password, Hacker will not be able to crack their passwords using a lookup table. Don’t use shorter salt, Then hacker can create a lookup table to generate every possible salt.</p>
<h1 id="Let’s-see-how-we-can-generate-a-license-key"><a href="#Let’s-see-how-we-can-generate-a-license-key" class="headerlink" title="Let’s see how we can generate a license key"></a>Let’s see how we can generate a license key</h1><p><img src="/images/codesample.PNG" alt="Generate a license key"></p>
<p>In this example, we are passing usernam and company code to generate a license key. Using <em> GenerateSalt </em> method, we can generate a random number. I used to create a 32 bytes lenth salt number using <em> RNGCryptoServiceProvider </em> class. Using <em> Rfc289DeriveVytes </em> class we can generate a salted hashing value. Along with the generated license key, we used to store salted number as well.</p>
<h1 id="Let’s-see-how-we-can-validate-the-license-key"><a href="#Let’s-see-how-we-can-validate-the-license-key" class="headerlink" title="Let’s see how we can validate the license key."></a>Let’s see how we can validate the license key.</h1><p><img src="/images/codesample1.PNG" alt="Validate the license key"></p>
<p>I used 64 byte array  as a license key and 32 byte array as a salted value. We can use <em> SequenceEqual </em> method to compare entered license key with stored license key as above.</p>
<p>You can find a sample application from here, <a href="https://github.com/hansamaligamage/LicenseKey" target="_blank" rel="external">https://github.com/hansamaligamage/LicenseKey</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/29/How-to-generate-a-license-key-for-your-system/" data-id="cits730jf00034sgcrp5x1sva" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-I-want-to-run-a-time-consuming-long-process-in-a-one-request" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/21/I-want-to-run-a-time-consuming-long-process-in-a-one-request/" class="article-date">
  <time datetime="2016-07-20T18:30:00.000Z" itemprop="datePublished">2016-07-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/21/I-want-to-run-a-time-consuming-long-process-in-a-one-request/">I want to run a time consuming long process in a one web request</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In my application, I want to run a time consuming long process in a one web request. </p>
<p>At the begining, I used to call a web api method to run that process. But it didn’t work. Since the process takes long time to complete its action, request is getting hanged.</p>
<p>We can work on few options to resolve this,</p>
<ul>
<li>We can create a windows service to run this process, It’s a seperate process from the web request. We can periodically check whether action is completed or not until action gets completed, We can install this service in our local pc or server</li>
<li>Windows service installed in Azure worker role, If we want to host the windows service in cloud environment, we can host the service in azure worker role.</li>
<li>We can use a seperate thread to process the log runing action</li>
</ul>
<h2 id="Seperate-Background-worker-thread"><a href="#Seperate-Background-worker-thread" class="headerlink" title="Seperate Background worker thread"></a>Seperate Background worker thread</h2><p>In my solution, I used to create a background worker process to handle the long running task.</p>
<h2 id="How-my-code-looks-like"><a href="#How-my-code-looks-like" class="headerlink" title="How my code looks like"></a>How my code looks like</h2><p>If we have to use a seperate thread to run a time consuming action, We can use Web backgrounder third party package. It’s going to run a background process in specific intervals. When the task gets completed, it’s going to automatically kill the background process.<br>Let’s see the code in action!!!</p>
<h2 id="Install-Web-background-worker"><a href="#Install-Web-background-worker" class="headerlink" title="Install Web background worker"></a>Install Web background worker</h2><p>First of all, install the web background worker third party library into the project.</p>
<p><img src="/images/installBackgroundworker.PNG" alt="Background worker installation"></p>
<h2 id="Background-worker-implementation"><a href="#Background-worker-implementation" class="headerlink" title="Background worker implementation"></a>Background worker implementation</h2><p>This code snippet shows how to initialise a job and how to perform a action on it,</p>
<p><img src="/images/backgroundworker.PNG" alt="Background worker as in library"></p>
<p>I refered to the above code snippet and created a specific worker thread according to my requirements.<br>actual implementation of worker thread is shown below. Worker class should inherit from <em>IDisposable</em> interface.<br>In the constructor of the worker class, specify the time interval and then call long running action in a seperate thread.</p>
<p><img src="/images/actualWork.PNG" alt="Background worker"></p>
<p>Dispose() method is getting called when process is completed.</p>
<p><img src="/images/disposeMethod.PNG" alt="Dispose method"></p>
<h2 id="Web-api-controller-implementation"><a href="#Web-api-controller-implementation" class="headerlink" title="Web api controller implementation"></a>Web api controller implementation</h2><p><img src="/images/controller.PNG" alt="default methods"></p>
<p>I call this worker process inside a web api controller. Create a private static variable and initialise it with worker class constructor.</p>
<p><em>note : I added log messages to identify starting point and end point of the worker process, Here is a sample of that log.</em></p>
<p><img src="/images/log.PNG" alt="log file"></p>
<p>Until the task is getting completed, worker thread runs. It’s going to complete the process in second interval. When the task is completed, it’s going to dispose the worker thread.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/21/I-want-to-run-a-time-consuming-long-process-in-a-one-request/" data-id="cits730ji00054sgc0eijhz30" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Easy-steps-to-create-a-windows-service" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/19/Easy-steps-to-create-a-windows-service/" class="article-date">
  <time datetime="2016-07-18T18:30:00.000Z" itemprop="datePublished">2016-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/19/Easy-steps-to-create-a-windows-service/">Schedule your tasks with a windows service</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>If you want to schedule something to run or your program takes long time to process, Sometimes we may have to create a seperate service application,<br>What i happened to write this post is, My client wanted me to write an application to send emails in specific time periods, So to achieve that I thought of writing a windows service application.<br>We can install this service in your server or local computer and configure it to run on intervals using a timer. Let’s start coding.</p>
<h2 id="Create-a-Windows-service"><a href="#Create-a-Windows-service" class="headerlink" title="Create a Windows service"></a>Create a Windows service</h2><p>When we create a windows service from visual studio, It gives us a service class with constructor method, OnStart and OnStop methods as follows.</p>
<p><img src="/images/defaultMethods.PNG" alt="default methods"></p>
<h2 id="Scheduling-the-task-with-a-timer"><a href="#Scheduling-the-task-with-a-timer" class="headerlink" title="Scheduling the task with a timer"></a>Scheduling the task with a timer</h2><p>I need to periodically perform a task, for that i need a timer component, We can add a timer into our service design from toolbox</p>
<p><img src="/images/timer.PNG" alt="Adding a timer"></p>
<h2 id="Fill-up-OnStart-method"><a href="#Fill-up-OnStart-method" class="headerlink" title="Fill up OnStart method"></a>Fill up OnStart method</h2><p>we need to initialise timer component inside the OnStart method, then I set timer interval and added a elapsed event to track each interval.</p>
<p><img src="/images/onStartMethod.PNG" alt="onStart method"></p>
<h2 id="Actual-scheduling-done-in-here"><a href="#Actual-scheduling-done-in-here" class="headerlink" title="Actual scheduling done in here"></a>Actual scheduling done in here</h2><p>inside timer elapsed event, actual task is going to run. elapsed event is called for each 2 minutes according to this code sample</p>
<p><img src="/images/timerElapsd.PNG" alt="timer Elapsed method"></p>
<h2 id="How-to-stop-the-execution"><a href="#How-to-stop-the-execution" class="headerlink" title="How to stop the execution"></a>How to stop the execution</h2><p>to stop the execution, OnStop event is used.</p>
<p><img src="/images/stopEvent.PNG" alt="stop event"></p>
<h2 id="How-to-install-the-windows-service"><a href="#How-to-install-the-windows-service" class="headerlink" title="How to install the windows service"></a>How to install the windows service</h2><p>Before installing the service in your pc, we need to create a installer class,</p>
<p><img src="/images/installer.PNG" alt="Installer class"></p>
<p>Add installer class as shown above</p>
<h2 id="Installer-Class"><a href="#Installer-Class" class="headerlink" title="Installer Class"></a>Installer Class</h2><p>in Installer class, we need to give a service name, so we can identify the service by its name. </p>
<p><img src="/images/installerCode.PNG" alt="Installer class code"></p>
<h2 id="Let’s-install-the-service"><a href="#Let’s-install-the-service" class="headerlink" title="Let’s install the service"></a>Let’s install the service</h2><p>service is getting created after we build the application. we can find the .exe file in the bin folder. But we can’t install the service by double clicking on it<br>we  have to install it to the local pc or server</p>
<h2 id="InstallUtil"><a href="#InstallUtil" class="headerlink" title="InstallUtil"></a>InstallUtil</h2><p>InstallUtil.exe is used to install/uninstall services in local machine or server. We can run installUtil command from Developer command prompt,<br>type InstallUtil.exe with full path to the service exe file.</p>
<p><img src="/images/Installutil.PNG" alt="Installutil"></p>
<p>But this doesn’t going to install the service, It throws an error.</p>
<p><img src="/images/errorInstallUtil.PNG" alt="Installutil permission issue"></p>
<p>It seems like we don’t have access to install the service, I had to spend few minutes to find the issue,<br>run Developer commad prompt as administrator, then this permission issue is getting resolved.</p>
<p>We can install a service using cmd as well,</p>
<p><img src="/images/cmd.PNG" alt="installutil in cmd"></p>
<p>run cmd as administrator, then we can install the service using cmd as well.</p>
<h2 id="View-services"><a href="#View-services" class="headerlink" title="View services"></a>View services</h2><p>We can check available services, by just typing services in your program list.</p>
<p><img src="/images/services.PNG" alt="logic of the service"></p>
<p>I gave service name as ‘test service’ in installer class.</p>
<h2 id="Windows-service-on-Local-Computer-started-and-then-stopped"><a href="#Windows-service-on-Local-Computer-started-and-then-stopped" class="headerlink" title="Windows service on Local Computer started and then stopped"></a>Windows service on Local Computer started and then stopped</h2><p>I tried to start the service from the panel, But it didnt work,<br>I came across with this issue as well, spent lot of hours to find the issue, this issue comes normally when code has some kind of a error. It’s somewhat difficult to debug a windows service application to find out errors, </p>
<h2 id="Debug-a-windows-service-application-easily"><a href="#Debug-a-windows-service-application-easily" class="headerlink" title="Debug a windows service application easily"></a>Debug a windows service application easily</h2><p>normally in a windows service, program.cs looks like this.</p>
<p><img src="/images/programcs.PNG" alt="program.cs file"></p>
<p>If we want to check whether our service implementation has any issue, we can use this trick</p>
<p><img src="/images/manualstart.PNG" alt="manually start the service"></p>
<p>manually start a method that has exact same code as the service implementation.<br>inside of start method implementation, we can check whether service logic works properly.</p>
<p><img src="/images/manualStartLogic.PNG" alt="logic of the service"></p>
<p>using this trick, we can identify our service logic is working fine.</p>
<p>Another way of testing the program logic is, create another console application and call service logic method from console app and verify it works fine.</p>
<h2 id="Debugger-Launch"><a href="#Debugger-Launch" class="headerlink" title="Debugger Launch"></a>Debugger Launch</h2><p>If we want to debug onStart method, we can launch the debugger in start method</p>
<p><img src="/images/debuggerLaunch.PNG" alt="launch the debugger"></p>
<p>we can launch the debugger like this,</p>
<p><img src="/images/launchDebugger.PNG" alt="launch the debugger"></p>
<p>we can debug the code like this.</p>
<p><img src="/images/debugMode.PNG" alt="launch the debugger"></p>
<p>But in here specific file we attatched into debugger is getting loaded. So other files are not loaded. Only we can debug the service file as this code sample shows.</p>
<h2 id="Windows-service-can’t-connect-to-the-database"><a href="#Windows-service-can’t-connect-to-the-database" class="headerlink" title="Windows service can’t connect to the database"></a>Windows service can’t connect to the database</h2><p>In my service, i need to access to the database, But it gives me an error like this.</p>
<p><strong> Login failed. Login failed for user ‘NT AUTHORITY\SYSTEM’ </strong></p>
<p>windows service is running on ‘NT AUTHORITY\SYSTEM’ login. this login doesn’t seem to have access to the database<br>To resolve this, add this in your connectionstring, Integrated Security=SSPI or else create a user account for ‘NT AUTHORITY\SYSTEM’ in your database server and give necessary permissions. </p>
<p>These are the guidelines to create a windows service, so it’s your time to try it.</p>
<p>You can find a sample windows service application from here, <a href="https://github.com/hansamaligamage/Scheduler" target="_blank" rel="external">https://github.com/hansamaligamage/Scheduler</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/19/Easy-steps-to-create-a-windows-service/" data-id="cits730j900014sgcrdiy9pfv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/10/02/Create-a-Web-API-application-in-NETCore/">Create a Web API application in .NETCore</a>
          </li>
        
          <li>
            <a href="/2016/09/16/Create-a-web-application-with-Yeoman/">Create a web application with Yeoman!</a>
          </li>
        
          <li>
            <a href="/2016/09/15/Yeoman-go-easy-with-NETCore/">Install Yeoman in Ubuntu</a>
          </li>
        
          <li>
            <a href="/2016/09/15/Web-Application-in-NETCore-Ubuntu/">Listen to me in http://localhost:5000/ with .NETCore on Ubuntu</a>
          </li>
        
          <li>
            <a href="/2016/09/15/Hello-World-in-NETCore-Ubuntu/">Hello World in .NETCore Ubuntu</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Hansamali Gamage<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>